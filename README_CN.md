# Hubble AI Trading Frontend

[ğŸ‡¨ğŸ‡³ ä¸­æ–‡](README_CN.md) | [ğŸ‡ºğŸ‡¸ English](README.md)

> **AI é©±åŠ¨äº¤æ˜“ç®¡ç†çš„å‰ç«¯å¼€æºç³»ç»Ÿ**

Hubble AI Trading Frontend æ˜¯ä¸€ä¸ªä¸º AI äº¤æ˜“å¹³å°æ„å»ºçš„ç°ä»£åŒ–å…¨æ ˆå¼€æºå‰ç«¯ç³»ç»Ÿã€‚åŸºäº React Router 7ã€Cloudflare Workers å’Œ D1 æ•°æ®åº“æ„å»ºï¼Œä¸º AI é©±åŠ¨äº¤æ˜“ç­–ç•¥æä¾›å…¨é¢çš„äº¤æ˜“åˆ†æã€æ™ºèƒ½è®¢å•ç®¡ç†å’Œå®æ—¶æŠ•èµ„ç»„åˆè¿½è¸ªåŠŸèƒ½ã€‚

## ğŸš€ æŠ€æœ¯æ ˆ

- **å‰ç«¯**: React Router 7, React 19, TailwindCSS 4
- **åç«¯**: Cloudflare Workers (è¾¹ç¼˜è¿è¡Œæ—¶)
- **æ•°æ®åº“**: Cloudflare D1 (SQLite) + Drizzle ORM
- **åŸºç¡€è®¾æ–½**: Alchemy (åŸºç¡€è®¾æ–½å³ä»£ç )
- **çŠ¶æ€ç®¡ç†**: TanStack Query (React Query)
- **UI ç»„ä»¶**: Radix UI, Lucide Icons
- **æ•°æ®å¯è§†åŒ–**: Recharts
- **è¯­è¨€**: TypeScript

## ğŸ“ é¡¹ç›®ç»“æ„

```
trading/
â”œâ”€â”€ app/                          # åº”ç”¨æºä»£ç 
â”‚   â”œâ”€â”€ features/                 # åŠŸèƒ½æ¨¡å—åŒ–ç›®å½•
â”‚   â”‚   â”œâ”€â”€ traders/              # äº¤æ˜“å‘˜ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ order/                # è®¢å•ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ positions/            # æŒä»“è¿½è¸ª
â”‚   â”‚   â”œâ”€â”€ analysis-team/        # åˆ†æå›¢é˜Ÿè®°å½•
â”‚   â”‚   â”œâ”€â”€ client.chart/         # è´¦æˆ·ä½™é¢å›¾è¡¨å¯è§†åŒ–
â”‚   â”‚   â”œâ”€â”€ client.order/         # è®¢å•åˆ—è¡¨ UI
â”‚   â”‚   â””â”€â”€ client.portfolio/     # æŠ•èµ„ç»„åˆå±•ç¤º
â”‚   â”œâ”€â”€ routes/                   # React Router è·¯ç”±
â”‚   â”‚   â””â”€â”€ api/v1/               # RESTful API ç«¯ç‚¹
â”‚   â”œâ”€â”€ components/ui/            # å¯å¤ç”¨ UI ç»„ä»¶
â”‚   â”œâ”€â”€ lib/                      # å…±äº«å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ middleware/               # è¯·æ±‚ä¸­é—´ä»¶
â”œâ”€â”€ database/                      # æ•°æ®åº“ Schema å®šä¹‰
â”œâ”€â”€ drizzle/                      # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”œâ”€â”€ workers/                      # Cloudflare Worker å…¥å£
â”œâ”€â”€ alchemy.run.ts                # åŸºç¡€è®¾æ–½å®šä¹‰
â””â”€â”€ package.json
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### åŠŸèƒ½æ¨¡å—åŒ–ç»„ç»‡

é¡¹ç›®é‡‡ç”¨åŠŸèƒ½æ¨¡å—åŒ–æ¶æ„ï¼Œæ¯ä¸ªæ¨¡å—è‡ªåŒ…å«ï¼š

```
app/features/{feature-name}/
â”œâ”€â”€ database/          # æ•°æ®åº“ Schema å’Œç±»å‹å®šä¹‰
â”œâ”€â”€ api/               # API å¤„ç†å‡½æ•°ï¼ˆä»…æœåŠ¡ç«¯ï¼‰
â”œâ”€â”€ hooks/             # React Query hooksï¼ˆå®¢æˆ·ç«¯ï¼‰
â”œâ”€â”€ components/        # UI ç»„ä»¶ï¼ˆå®¢æˆ·ç«¯ï¼‰
â””â”€â”€ index.ts           # ç»Ÿä¸€å¯¼å‡º
```

è¯¦ç»†è¯´æ˜å‚è§ [`app/features/README.md`](app/features/README.md)ã€‚

### æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯åˆ†ç¦»

- âœ… **å®¢æˆ·ç«¯å®‰å…¨**: ç±»å‹å®šä¹‰ã€hooksã€ç»„ä»¶
- âŒ **ä»…æœåŠ¡ç«¯**: Schema å®šä¹‰ã€API å¤„ç†å‡½æ•°ã€æ•°æ®åº“å·¥å…·

### è·¯ç”±ä¸åŠŸèƒ½æ¨¡å—

- **Routes** (`app/routes/`): å¤„ç†è·¯ç”±ï¼Œå¯¼å‡º `loader`/`action`
- **Features** (`app/features/`): ä¸šåŠ¡é€»è¾‘ï¼Œè¢«è·¯ç”±è°ƒç”¨

## ğŸ”‘ æ ¸å¿ƒåŠŸèƒ½

### AI äº¤æ˜“ç®¡ç†
- **AI äº¤æ˜“å‘˜**: ç®¡ç† AI äº¤æ˜“å‘˜è´¦æˆ·ï¼Œè¿½è¸ªç®—æ³•äº¤æ˜“ç­–ç•¥çš„è´¦æˆ·ä½™é¢
- **æ™ºèƒ½è®¢å•**: å®Œæ•´çš„è®¢å•ç”Ÿå‘½å‘¨æœŸè¿½è¸ª (NEW, FILLED, CANCELED)ï¼Œæ”¯æŒ AI é©±åŠ¨çš„å†³ç­–è¾…åŠ©
- **å®æ—¶æŒä»“**: AI äº¤æ˜“ç³»ç»Ÿçš„å®æ—¶æŒä»“ç›‘æ§å’Œå†å²åˆ†æ
- **åˆ†æå›¢é˜Ÿ**: å­˜å‚¨å’Œæ£€ç´¢ AI ç”Ÿæˆçš„äº¤æ˜“åˆ†æå’Œç­–ç•¥è®°å½•

### å®¢æˆ·ç«¯ç•Œé¢
- **äº¤äº’å¼å›¾è¡¨**: å®æ—¶è´¦æˆ·ä½™é¢æ›²çº¿å¯è§†åŒ–ï¼Œæ”¯æŒ AI äº¤æ˜“å‘˜é€‰æ‹©å’Œåˆ†æ
- **æ™ºèƒ½è®¢å•åˆ—è¡¨**: AI ç”Ÿæˆäº¤æ˜“è®¢å•çš„é«˜çº§ç­›é€‰å’Œå±•ç¤º
- **æŠ•èµ„ç»„åˆçœ‹æ¿**: AI äº¤æ˜“ç­–ç•¥çš„ç»¼åˆæŠ•èµ„ç»„åˆè§†å›¾

### API ç«¯ç‚¹

```
GET    /api/v1/traders                    # è·å–äº¤æ˜“å‘˜åˆ—è¡¨
GET    /api/v1/traders/pnl                # è·å–è´¦æˆ·ä½™é¢æ•°æ®
GET    /api/v1/traders/latest-balance     # æœ€æ–°ä½™é¢
GET    /api/v1/orders                     # æŸ¥è¯¢è®¢å•
POST   /api/v1/orders/import              # å¯¼å…¥è®¢å•
GET    /api/v1/orders/latest              # æœ€æ–°è®¢å•
GET    /api/v1/analysis-records           # åˆ†æè®°å½•
GET    /api/v1/position-records           # æŒä»“è®°å½•
GET    /api/v1/config                     # ç³»ç»Ÿé…ç½®
```

è¯¦ç»† API æ–‡æ¡£å‚è§å„åŠŸèƒ½æ¨¡å—çš„ READMEã€‚

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 20+ (æˆ– Bun)
- Cloudflare è´¦å·
- Wrangler CLI: `npm install -g wrangler`

### å®‰è£…

```bash
# å®‰è£…ä¾èµ–
pnpm install

# ç™»å½• Cloudflare
wrangler login
```

### ç¯å¢ƒé…ç½®

åˆ›å»º `.env` æˆ– `.env.local`ï¼š

```bash
# å¯†é’¥åŠ å¯†æ‰€éœ€
ALCHEMY_PASSWORD=your-secure-password

# å¯é€‰ï¼šä¼šè¯é…ç½®
SESSION_EXPIRY=604800  # 7 å¤©ï¼ˆç§’ï¼‰

# å¯é€‰ï¼šç®¡ç†å‘˜è®¤è¯
ADMIN_AUTH_HEADER=auth_admin
ADMIN_AUTH_SECRET=your-secret

# å¯é€‰ï¼šåˆå§‹è´¦æˆ·ä½™é¢
INITIAL_ACCOUNT_BALANCE=10000
```

### å¼€å‘

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# ç±»å‹æ£€æŸ¥
pnpm typecheck

# ç”Ÿäº§æ„å»º
pnpm build

# é¢„è§ˆç”Ÿäº§æ„å»º
pnpm preview
```

### æ•°æ®åº“ç®¡ç†

```bash
# ç”Ÿæˆè¿ç§»æ–‡ä»¶
pnpm db:generate

# åº”ç”¨è¿ç§»
pnpm db:migrate

# æ‰“å¼€ Drizzle Studioï¼ˆæœ¬åœ°ï¼‰
pnpm db:studio

# æ‰“å¼€ Drizzle Studioï¼ˆè¿œç¨‹ï¼‰
pnpm db:studio:remote

# å¡«å……æ•°æ®åº“
pnpm db:seed

# æ¸…é™¤å¡«å……æ•°æ®
pnpm db:seed:clear
```

### éƒ¨ç½²

```bash
# éƒ¨ç½²åˆ° Cloudflare
pnpm deploy

# é”€æ¯æ‰€æœ‰èµ„æºï¼ˆè°¨æ…æ“ä½œï¼ï¼‰
pnpm destroy
```

## ğŸ“š æ–‡æ¡£

- [åŠŸèƒ½æ¨¡å—æŒ‡å—](app/features/README.md) - åŠŸèƒ½æ¨¡å—åŒ–å¼€å‘è§„èŒƒ
- [è®¢å•åŠŸèƒ½](app/features/order/README.md) - è®¢å•ç®¡ç†ç³»ç»Ÿ
- [å›¾è¡¨åŠŸèƒ½](app/features/client.chart/README.md) - å›¾è¡¨å¯è§†åŒ–
- [API ç¤ºä¾‹](API_CURL_EXAMPLES.md) - API ä½¿ç”¨ç¤ºä¾‹

## ğŸ¯ å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼

- **æ–‡ä»¶å‘½å**: kebab-caseï¼ˆå¦‚ `use-orders.ts`ï¼‰
- **å˜é‡å‘½å**: camelCase
- **å¸¸é‡å‘½å**: SCREAMING_SNAKE_CASE
- **æ³¨é‡Šè¯­è¨€**: ä¸­æ–‡ï¼ˆç¬¦åˆé¡¹ç›®çº¦å®šï¼‰
- **å¯¼å…¥é¡ºåº**: Node å†…ç½® â†’ ç¬¬ä¸‰æ–¹ â†’ é¡¹ç›®å†…éƒ¨ â†’ ç›¸å¯¹è·¯å¾„

### é”™è¯¯å¤„ç†

ä¸‰ç§é”™è¯¯ç±»å‹ï¼š
- `BusinessError`: ä¸šåŠ¡é€»è¾‘é”™è¯¯
- `SystemError`: ç³»ç»Ÿ/åŸºç¡€è®¾æ–½é”™è¯¯
- `ValidationError`: è¾“å…¥éªŒè¯é”™è¯¯

### API æ ‡å‡†

- RESTful çº¦å®š: èµ„æºä½¿ç”¨å¤æ•°åè¯
- URL ç‰ˆæœ¬åŒ–: `/api/v1/resource`
- å“åº”æ ¼å¼: `{success, data/error, meta}`
- è¾“å…¥éªŒè¯: Zod schemas

### æ•°æ®åº“çº¦å®š

- è¡¨å: å¤æ•°å½¢å¼ï¼Œsnake_case
- å­—æ®µ: snake_case
- ä¸»é”®: `id`
- æ—¶é—´æˆ³: `created_at`, `updated_at`
- æ‰€æœ‰å˜æ›´é€šè¿‡ migration è¿›è¡Œ

## ğŸ”’ å®‰å…¨

- åŸºäº KV å­˜å‚¨çš„ä¼šè¯è®¤è¯
- é€šè¿‡ header + secret çš„ç®¡ç†å‘˜è®¤è¯
- æ•æ„Ÿæ•°æ®ä½¿ç”¨ç¯å¢ƒå˜é‡
- ä½¿ç”¨ Zod è¿›è¡Œè¾“å…¥éªŒè¯

## ğŸŒŸ å…³äº Hubble AI

**Hubble AI Trading Frontend** æ˜¯ Hubble AI ç”Ÿæ€ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œä¸º AI é©±åŠ¨çš„äº¤æ˜“å¹³å°æä¾›å¼€æºå‰ç«¯åŸºç¡€è®¾æ–½ã€‚æœ¬é¡¹ç›®ä½¿å¼€å‘è€…èƒ½å¤Ÿæ„å»ºä¸ AI äº¤æ˜“ç­–ç•¥å’Œç®—æ³•æ— ç¼é›†æˆçš„å¤æ‚äº¤æ˜“ç•Œé¢ã€‚

### å¼€æº

æœ¬é¡¹ç›®æ˜¯å¼€æºçš„ï¼Œå…è®¸ç¤¾åŒºä¸ºä»–ä»¬çš„ AI äº¤æ˜“éœ€æ±‚è´¡çŒ®ã€å®šåˆ¶å’Œæ‰©å±•å¹³å°ã€‚

## ğŸ“ è®¸å¯è¯

MIT è®¸å¯è¯ - è¯¦è§ LICENSE æ–‡ä»¶

